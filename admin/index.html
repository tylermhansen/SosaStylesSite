<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>Sosa Studios â€” Content Manager</title>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/decap-cms-app@^3.1.0"></script>
    <script>
      // Decap CMS with GitHub Personal Access Token auth
      if (!window.CMS_MANUAL_INIT) {
        // Get or prompt for GitHub token
        const getGitHubToken = () => {
          let token = localStorage.getItem('decap_github_token');
          if (!token) {
            token = prompt(
              'Enter your GitHub Personal Access Token\n\n' +
              'Create one at: https://github.com/settings/tokens/new\n' +
              'Scopes needed: repo, user:email\n\n' +
              'Token will be stored in browser localStorage only (never sent to external servers)'
            );
            if (token) {
              localStorage.setItem('decap_github_token', token);
            } else {
              alert('GitHub token is required to use the CMS');
            }
          }
          return token;
        };

        // Initialize with token
        const token = getGitHubToken();
        if (token && window.DecapCms) {
          window.DecapCms.init();
        }
      }
    </script>
  </body>
</html>
